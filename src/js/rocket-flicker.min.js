Rocket.defaults.flicker={selector:".flicker",animation:"transform-slide",arrows:!0,arrowsConstraint:!1,autoFlick:!0,autoFlickDelay:10,dotAlignment:"center",dots:!0,position:1};var RocketFlickerComponent=function(){function t(){Rocket.is.touch()||(Rocket.classes.add(Rocket.dom.html,"rocket-no-touch"),i=!1)}function e(t,e){if(!t||"object"!=typeof e)return!1;var e=JSON.parse(JSON.stringify(e)),o=t.querySelector("ul"),n=t.querySelectorAll("li"),i=n.length,r={UL:o,LIs:n};if(e.count=i,Rocket.classes.add(t,["rocket-flicker","_a-"+e.animation]),Rocket.classes.add(o,"flicks"),i>0)for(var s=0,c=i;s<c;s++){var l=n[s].getAttribute("data-background")||!1;l&&(n[s].style.backgroundImage="url("+l+")")}return"scroller-slide"!==e.animation&&(e.arrows&&(r.arrows={left:t.insertBefore(a.arrow("left"),o),right:t.insertBefore(a.arrow("right"),o)}),e.dots&&(r.dots=t.insertBefore(a.dots(i),o),Rocket.classes.add(r.dots,"_"+e.dotAlignment))),{flicker:t,options:e,elements:r}}function o(t){if(!t)return!1;var e,o=t.elements,n=t.flicker,a=t.options,r=0,s=0,c=0,l=0,u="translate3d(0, 0, 0)",f=100,d=0,k=function(){return!("scroller-slide"===a.animation||!a.arrows)&&(Rocket.event.add(o.arrows.left,"click",function(){R("previous")}),void Rocket.event.add(o.arrows.right,"click",function(){R("next")}))},m=function(){e=setTimeout(function(){R("next")},Rocket.milliseconds.seconds(a.autoFlickDelay))},p=function(){clearTimeout(e)},v=function(t){1===a.position&&d>0?d=0:a.position===a.count&&d<t&&(d=t)},y=function(){return!("scroller-slide"===a.animation||!a.dots)&&void Rocket.event.add(o.dots,"click",function(t){Rocket.has.class(t.target,"dot")&&!Rocket.has.class(t.target,"_active")&&R(Rocket.get.index(t.target.parentNode)+1)})},R=function(t){switch(a.autoFlick&&a.autoFlickDelay&&(p(),m()),t){case"next":a.position<a.count?a.position++:a.arrowsConstraint||(a.position=1);break;case"previous":a.position>1?a.position--:a.arrowsConstraint||(a.position=a.count);break;default:if("number"!=typeof t)return!1;t<=a.count&&t>=1?a.position=t:t>=a.count?a.position=a.count:t<=1&&(a.position=1)}var e=a.position-1;switch(a.animation){case"transform-slide":var n="translate3d(-"+e+"00%, 0, 0)";o.UL.setAttribute("style","-webkit-transform:"+n+";-o-transform:"+n+";-moz-transform:"+n+";transform:"+n),l=100*-e;break;case"transition-fade":Rocket.classes.remove(o.UL.querySelector("li._active"),"_active"),Rocket.classes.add(o.UL.querySelector("li:nth-child("+a.position+")"),"_active");break;case"transition-slide":o.UL.style.left="-"+e+"00%",c=-(e+"00")}"scroller-slide"!==a.animation&&a.dots&&(Rocket.classes.remove(o.dots.querySelector("._active"),"_active"),Rocket.classes.add(o.dots.querySelector("li:nth-child("+a.position+") .dot"),"_active"))},w=function(){if("function"==typeof Hammer)if("transform-slide"===a.animation||"transition-slide"===a.animation){var t=new Hammer(o.UL);t.on("panstart",function(t){g()}),t.on("panleft panright",function(t){h(t)}),t.on("panend",function(t){b(t)})}else if("transition-fade"===a.animation){var t=new Hammer(o.UL);t.on("swipeleft swiperight",function(t){F(t)})}},h=function(t){switch(a.animation){case"transform-slide":d=Math.round(t.deltaX/s*1e3)/10+l,v(100*-(a.count-1)),u="translate3d("+d+"%, 0, 0)",o.UL.setAttribute("style","-webkit-transform:"+u+";-o-transform:"+u+";-moz-transform:"+u+";transform:"+u);break;case"transition-slide":d=Math.round(t.deltaX/s*100)+c,v(-(100*(a.count-1))),o.UL.style.left=d+"%"}},g=function(){p(),s=n.clientWidth,Rocket.classes.remove(n,"_a-"+a.animation)},b=function(t){r=t.deltaX,Rocket.classes.add(n,"_a-"+a.animation),r<-f&&a.position<a.count?R("next"):r>f&&a.position>1&&R("previous")},F=function(t){"swipeleft"==t.type?R("next"):"swiperight"==t.type&&R("previous")},_=function(t){var t="number"==typeof t?t:Rocket.defaults.flicker.autoFlickDelay;clearTimeout(e),a.autoFlick=!0,a.autoFlickDelay=t,e=setTimeout(function(){R("next")},Rocket.milliseconds.seconds(a.autoFlickDelay))},C=function(){a.autoFlick&&a.autoFlickDelay&&(clearTimeout(e),a.autoFlick=!1)};return k(),y(),R(a.position),i&&w(),{flicker:n,move:R,start:_,stop:C}}function n(t){var t="object"==typeof t&&t,n={selector:"string"==typeof t.selector?t.selector:Rocket.defaults.flicker.selector,animation:"string"==typeof t.animation?t.animation:Rocket.defaults.flicker.animation,arrows:"boolean"==typeof t.arrows?t.arrows:Rocket.defaults.flicker.arrows,arrowsConstraint:"boolean"==typeof t.arrowsConstraint?t.arrowsConstraint:Rocket.defaults.flicker.arrowsConstraint,autoFlick:"boolean"==typeof t.autoFlick?t.autoFlick:Rocket.defaults.flicker.autoFlick,autoFlickDelay:"number"==typeof t.autoFlickDelay?t.autoFlickDelay:Rocket.defaults.flicker.autoFlickDelay,dotAlignment:"string"==typeof t.dotAlignment?t.dotAlignment:Rocket.defaults.flicker.dotAlignment,dots:"boolean"==typeof t.dots?t.dots:Rocket.defaults.flicker.dots,position:"number"==typeof t.position?t.position:Rocket.defaults.flicker.position},i=document.querySelectorAll(n.selector);if(i.length<1)return!1;for(var a=[],r=0,s=i.length;r<s;r++)a.push(new o(e(i[r],n)));return a}var i=!0,a={arrow:function(t){var t=t||"left",e=document.createElement("div");return e.className="rocket-flicker-arrow _"+t,e},dots:function(t){var e=document.createElement("div"),o=document.createElement("ul");e.className="rocket-flicker-dots";for(var n=0,i=t;n<i;n++){var a=document.createElement("li"),r=document.createElement("div");r.className=0===n?"dot _active":"dot",a.appendChild(r),o.appendChild(a)}return e.appendChild(o),e}};return t(),{init:n}}();Rocket.flicker=function(t){return RocketFlickerComponent.init(t)};